{{define "title"}}User Profile - Paintbar{{end}}

{{define "head"}}
    <link rel="preconnect" href="https://firestore.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="stylesheet" href="/static/styles/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha384-t1nt8BQoYMLFN5p42tRAtuAAFQaCQODekUVeKKZrEnEyp4H2R0RHFz0KWpmj7i8g" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/brands.min.css" integrity="sha384-/BRyRRN0wxxRgh/DAXU621go9pdoMHl6LFPiX5Pp8PZYZlKBQCDXj9X9DHx6LOud" crossorigin="anonymous">
{{end}}

{{define "body"}}
    <nav class="menu-bar">
        <div class="logo">
            <a href="/canvas">
                <img src="/static/images/paintbar.logo.png" alt="Paintbar Logo" class="logo-image">
            </a>
        </div>
        <div class="menu-items">
            <div class="profile-dropdown">
                <img src="/static/images/panda.png" alt="Profile" class="nav-profile-pic">
                <div class="dropdown-content">
                    <a href="/canvas" class="dropdown-item">
                        <i class="fas fa-plus"></i>
                        New Canvas
                    </a>
                    <hr class="dropdown-separator">
                    <a href="/projects" class="dropdown-item">
                        <i class="fas fa-folder-open"></i>
                        Projects
                    </a>
                    <a href="#" class="dropdown-item" id="publicGalleryBtn">
                        <i class="fas fa-images"></i>
                        Public Gallery
                    </a>
                    <a href="#" class="dropdown-item" id="paintbarNftsBtn">
                        <i class="fas fa-gem"></i>
                        Paintbar NFTs
                    </a>
                    <hr class="dropdown-separator">
                    <a href="https://pandaswhocode.com#paintbar" class="dropdown-item">
                        <i class="fas fa-info-circle"></i>
                        About
                    </a>
                    <hr class="dropdown-separator">
                    <a href="#" class="dropdown-item" id="editProfileBtn">
                        <i class="fas fa-user-edit"></i>
                        Edit Profile
                    </a>
                    <a href="#" class="dropdown-item" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <div class="content-wrapper">
            <div class="projects-content">
                <div class="projects-section" id="projectsSection">
                    <div class="section-header">
                        <h2>My Projects</h2>
                        <a href="#" class="view-all">View All</a>
                    </div>
                    <div class="project-grid" id="projectsGrid">
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                    </div>
                </div>

                <div class="projects-section" id="gallerySection">
                    <div class="section-header">
                        <h2>Public Gallery</h2>
                        <a href="#" class="view-all">View All</a>
                    </div>
                    <div class="project-grid" id="galleryGrid">
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                    </div>
                </div>

                <div class="projects-section" id="nftsSection">
                    <div class="section-header">
                        <h2>Paintbar NFT Browser</h2>
                        <a href="#" class="view-all">View All</a>
                    </div>
                    <div class="project-grid" id="nftsGrid">
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                        <div class="project-card skeleton-card"><div class="skeleton-rect"></div></div>
                    </div>
                </div>
            </div>

            <div class="profile-section">
                <div class="user-info">
                    <div class="user-profile">
                        <div class="profile-picture-container">
                            <img src="/static/images/panda.png" alt="Profile Picture" class="profile-picture" id="profilePicture">
                        </div>
                        <h1 class="username" id="profileUsername"><span class="skeleton-text" style="width:120px">&nbsp;</span></h1>
                        <h2 class="display-name" id="profileDisplayName"><span class="skeleton-text" style="width:160px">&nbsp;</span></h2>
                        <p class="profile-bio" id="profileBio"><span class="skeleton-text" style="width:200px">&nbsp;</span></p>
                        <p class="profile-location" id="profileLocation"></p>
                        <div class="social-links" id="socialLinks">
                            <!-- Social links will be dynamically populated -->
                        </div>
                        <div class="hbar-address" id="hbarAddressContainer">
                            <i class="hbar-symbol">&#x126;</i>
                            <span id="hbarAddressDisplay"></span>
                        </div>
                        <div class="profile-stats">
                            <div class="stat">
                                <span class="stat-value" id="projectCount">0</span>
                                <span class="stat-label">Projects</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value" id="galleryCount">0</span>
                                <span class="stat-label">Gallery</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value" id="nftCount">0</span>
                                <span class="stat-label">NFTs</span>
                            </div>
                        </div>
                        <div class="copyright">
                            &copy; 2024-{{currentYear}} PandasWhoCode. All rights reserved.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Profile</h2>
                <button class="close-modal">&times;</button>
            </div>
            <form id="editProfileForm" class="profile-form" method="POST" action="javascript:void(0)">
                <div class="form-section">
                    <h3>Basic Information</h3>
                    <div class="form-group">
                        <label for="displayName">Display Name</label>
                        <input type="text" id="displayName" name="displayName" placeholder="Your display name">
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" placeholder="Your username">
                    </div>
                    <div class="form-group">
                        <label for="bio">Bio</label>
                        <textarea id="bio" name="bio" placeholder="Tell us about yourself" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="location">Location</label>
                        <input type="text" id="location" name="location" placeholder="Your location">
                    </div>
                    <div class="form-group">
                        <label for="website">Website</label>
                        <input type="url" id="website" name="website" placeholder="https://yourwebsite.com">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Social Media</h3>
                    <div class="form-group">
                        <label for="githubUrl">GitHub Profile</label>
                        <input type="url" id="githubUrl" name="githubUrl" placeholder="https://github.com/username">
                    </div>
                    <div class="form-group">
                        <label for="twitterHandle">Twitter/X Handle</label>
                        <input type="text" id="twitterHandle" name="twitterHandle" placeholder="@username">
                    </div>
                    <div class="form-group">
                        <label for="blueskyHandle">Bluesky Handle</label>
                        <input type="text" id="blueskyHandle" name="blueskyHandle" placeholder="@handle.bsky.social">
                    </div>
                    <div class="form-group">
                        <label for="instagramHandle">Instagram Handle</label>
                        <input type="text" id="instagramHandle" name="instagramHandle" placeholder="@username">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Blockchain</h3>
                    <div class="form-group">
                        <label for="hbarAddress">HBAR Address</label>
                        <input type="text" id="hbarAddress" name="hbarAddress" placeholder="Your HBAR address">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Security</h3>
                    <div class="form-group">
                        <button type="button" id="resetPasswordBtn" class="secondary-button">Reset Password</button>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="cancel-button">Cancel</button>
                    <button type="submit" class="save-button">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
{{end}}

{{define "scripts"}}
    <script type="module" src="/static/dist/profile/profile.js"></script>
{{end}}
